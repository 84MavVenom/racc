<h1>変更履歴</h1>

<hr>
<h2>1.4.2 (2002-01-29)</h2>
<p>
<ul>
<li>新しいオプション --no-extentions
<li>Alpha で落ちるという報告があったので
    cparse.c の怪しげなところを修正してみた
</ul>

<h2>1.4.1 (2001-12-02)</h2>
<p>
<ul>
<li>amstd 非依存になった (ただし -all パッケージへバンドルは継続)
<li>y2racc racc2y を 1.4 対応にした
</ul>

<h2>1.4.0 (2001-11-30)</h2>
<p>
<ul>
<li>ランタイムを Ruby の CVS に入れたのにあわせてマイナーバージョンアップ
<li>RaccParser, RaccScanner → GrammarFileParser, GrammarFileScanner
<li>ハズい typo を修正 (grammer → grammar)
</ul>

<hr>
<h2>1.3.12 (2001-11-22)</h2>
<p>
<ul>
<li>インストーラのバグを修正 (thanks Tanaka Akira)
<li>アクション中の正規表現や % 文字列、グローバル変数の検出を向上させた
</ul>

<h2>1.3.11 (2001-08-28)</h2>
<p>
<ul>
<li>アクション中の $' $` $/ などを正しくスキャン
</ul>

<h2>1.3.10 (2001-08-12)</h2>
<p>
<ul>
<li>cparse.c のプロトタイプ違いを直した
</ul>

<h2>1.3.9 (2001-04-07)</h2>
<p>
<ul>
<li>Ruby 1.4 に(再び)対応した
</ul>

<h2>1.3.8 (2001-03-17)</h2>
<p>
<ul>
<li>パースエラーの時に記号名も出力するようにした
<li>Racc::Parser#token_to_s
<li>ジェネレータにバグ。以下の文法の衝突を解決できなかった
<blockquote><pre>
targ      : operation nullhead
	  | variable
nullhead  : null B
null      :
operation : A
variable  : A
</pre></blockquote>
</ul>

<h2>1.3.7 (2001-02-04)</h2>
<p>
<ul>
<li>実験的に、入力トークンの終端は nil でもよいことにした。
    バグの発見が遅れるようであればやっぱりやめる。
<li>サンプルを増やした
</ul>

<h2>1.3.6 (2001-01-22)</h2>
<p>
<ul>
<li>cparse がスタティックリンクされても動くようにした
</ul>

<h2>1.3.5 (2001-01-18)</h2>
<p>
<ul>
<li>% 文字列のスキャンがバグってた
<li>新しい命令 expect
</ul>

<h2>1.3.4 (2001-01-11)</h2>
<p>
<ul>
<li>cparse: シンボルのタイプチェックを入れた
<li>cparse: depend を消した
<li>cparse: rb_iterate 中の GC で落ちるバグを修正
</ul>

<h2>1.3.3 (2000-12-25)</h2>
<p>
<ul>
<li>ジェネレータに致命的なバグ。1.3.1 から混入 (format.rb)
<li>racc --runtime-version
</ul>

<h2>1.3.2 (2000-12-21)</h2>
<p>
<ul>
<li>-E が失敗するのを直した
<li>再度 strscan を同梱 (y2racc/racc2y に必要)
</ul>

<h2>1.3.1 (2000-12-17)</h2>
<p>
<ul>
<li>正規表現の繰り返し指定の上限を動的に決定する (RE_DUP_MAX)
<li>パースルーチンが常に Ruby 版になっていた (消し忘れ。)
</ul>

<h2>1.3.0 (2000-11-30)</h2>
<p>
<ul>
<li>スキャナから yield でトークンを渡せるようになった
</ul>

<hr>
<h2>1.2.6 (2000-11-28)</h2>
<p>
<ul>
<li>class M::C を許した
</ul>

<h2>1.2.5 (2000-11-20)</h2>
<p>
<ul>
<li>オプションに大変動。非互換オプションは -h -f -p -i -n -c -A
<li>ロングオプションをサポート
<li>y2racc, racc2y はデフォルトでアクションを残すようにした
</ul>

<h2>1.2.4 (2000-09-13)</h2>
<p>
<ul>
<li>インストーラとドキュメントを更新
</ul>

<h2>1.2.3 (2000-08-14)</h2>
<p>
<ul>
<li>使われない規則と非終端記号を出力 (強力版)
<li>S/R conflict の時 nonassoc で解決するならばエラー
</ul>

<h2>1.2.2 (2000-08-12)</h2>
<p>
<ul>
<li>内部の変更
</ul>

<h2>1.2.1 (2000-08-05)</h2>
<p>
<ul>
<li>yacc との変換コマンド racc2y・y2racc を添付
</ul>

<h2>1.2.0 (2000-08-02)</h2>
<p>
<ul>
<li>先読みアルゴリズムを bison のものに変更
</ul>

<hr>
<h2>1.1.6 (2000-07-25)</h2>
<p>
<ul>
<li>新たなキーワード options とその引数 no_result_var
</ul>

<h2>1.1.5 (2000-07-21)</h2>
<p>
<ul>
<li>[重要] token を convert に変更
<li>「新たな」キーワード token (終端記号の宣言)
</ul>

<h2>1.1.4 (2000-07-13)</h2>
<p>
<ul>
<li>インストーラをアップデート。
    cparse を選択インストールできるようにした
<li>サンプルがバグってた
</ul>

<h2>1.1.3 (2000-06-30)</h2>
<p>
<ul>
<li>空アクションの呼び出しを省略しないようにするオプション -a
</ul>

<h2>1.1.2 (2000-06-29)</h2>
<p>
<ul>
<li>スキャナで strscan を使わないようにした
<li>ScanError -&gt; Racc::ScanError, ParseError -&gt; Racc::ParseError
<li>エラーメッセージを強化
</ul>

<h2>1.1.1 (2000-06-15)</h2>
<p>
<ul>
<li>requireミス (thanks Toshさん)
<li>-v をつけるとconflictが報告されなくなっていた
</ul>

<h2>1.1.0 (2000-06-12)</h2>
<p>
<ul>
<li>新しい 状態遷移表生成アルゴリズム
</ul>

<hr>
<h2>1.0.4 (2000-06-04)</h2>
<p>
<ul>
<li>S/R conflict がおきると .output 出力で落ちるバグ修正 (Tosh さんの報告)
<li>使われない非終端記号・規則を表示
</ul>

<h2>1.0.3 (2000-06-03)</h2>
<p>
<ul>
<li>filter -&gt; collect!
</ul>

<h2>1.0.2 (2000-05-16)</h2>
<p>
<ul>
<li>インストーラをアップデート
</ul>

<h2>1.0.1 (2000-05-12)</h2>
<p>
<ul>
<li>state.rb:  先読みルーチンをちょっとだけ高速化 && 追加デバッグ
<li>コードを整理した。著作権表示全体を全部のファイルにつけた。
<li>amstd アップデート (1.7.0)
</ul>

<h2>1.0.0 (2000-05-06)</h2>
<p>
<ul>
<li>バージョン 1.0
</ul>

<hr>
<h2>0.14.6 (2000-05-05)</h2>
<p>
<ul>
<li>デバッグ出力を詳細にした
</ul>

<h2>0.14.5 (2000-05-01)</h2>
<p>
<ul>
<li>インストーラを ruby 1.4.4 系の新しいパスに対応させた
    (thanks rubykitch さん、Tosh さん)
</ul>

<h2>0.14.4 (2000-04-09)</h2>
<p>
<ul>
<li>パーサの定数を削減(Racc_arg にまとめた)
<li>state 生成を微妙に高速化(コアを文字列に変換)
</ul>

<h2>0.14.3 (2000-04-04)</h2>
<p>
<ul>
<li>cparse の SYM2ID と ID2SYM のチェックを分離 (thanks 小松さん)
</ul>

<h2>0.14.2 (2000-04-03)</h2>
<p>
<ul>
<li>一行目の class がパースエラーになっていた (thanks 和田さん)
<li>新しいフラグ racc -V
</ul>

<h2>0.14.1 (2000-03-31)</h2>
<p>
<ul>
<li>インストーラで Ruby のパスを指定したときには
    system に与えるRubyのパスも変えるようにした (thanks Toshさん)
</ul>

<h2>0.14.0 (2000-03-21)</h2>
<p>
<ul>
<li>高速テーブルを実装
<li>一時的にファイル名/行番号の変換をやめた(Rubyのバグのため。)
</ul>

<hr>
<h2>0.13.1 (2000-03-21)</h2>
<p>
<ul>
<li>--version --copyright などがうまく働いてなかった (thanks ふなばさん)
</ul>

<h2>0.13.0 (2000-03-20)</h2>
<p>
<ul>
<li>yyerror/yyerrok/yyaccept を実装
</ul>

<hr>
<h2>0.12.2 (2000-03-19)</h2>
<p>
<ul>
<li>-E フラグがバグってた (thanks ふなばさん)
</ul>

<h2>0.12.1 (2000-03-16)</h2>
<p>
<ul>
<li>デフォルトアクションの決め方をちょっと修正(元に戻しただけ)
</ul>

<h2>0.12.0 (2000-03-15)</h2>
<p>
<ul>
<li>別のバグどころではなかった。先読みルーチンが LALR になっていない。
    四日がかりでようやく修正した。
<li>完全な LALR を実装したら遅くなったので SLR も併用するようにした。効果絶大。
</ul>

<hr>
<h2>0.11.3 (2000-03-09)</h2>
<p>
<ul>
<li>状態遷移表生成のバグの修正がまだ甘かった。さらに別のバグもあるようだ。
</ul>

<h2>0.11.2 (2000-03-09)</h2>
<p>
<ul>
<li>状態遷移表生成部に(最後(になってほしい)の)バグ。
    先読みコードが再帰した場合にトークンが少なくなってしまっていた
<li>cparse が Symbol に対応できてなかった
</ul>

<h2>0.11.1 (2000-03-08)</h2>
<p>
<ul>
<li>ruby 1.5 の Symbol に対応
<li>strscan を最新に
</ul>

<h2>0.11.0 (2000-02-19)</h2>
<p>
<ul>
<li>例外のとき、元のファイルの行番号が出るようにした
</ul>

<hr>
<h2>0.10.9 (2000-01-19)</h2>
<p>
<ul>
<li>セットアップ方法など細かな変更
</ul>

<h2>0.10.8 (2000-01-03)</h2>
<p>
<ul>
<li>忘れてしまったけどたしかインストーラ関係の修正
<li>(1/17 re-packed) ドキュメントの追加と修正
</ul>

<h2>0.10.7 (2000-01-03)</h2>
<p>
Thanks 新井さん
<ul>
<li>setup.rb compile.rb amstd/inst などのバグ修正
</ul>

<h2>0.10.6 (1999-12-24)</h2>
<p>
<ul>
<li>racc -e ruby でデフォルトパスを使用
<li>空のアクションの呼びだしは省略するようにした
</ul>

<h2>0.10.5 (1999-12-21)</h2>
<p>
thanks Toshさん
<ul>
<li>埋めこみアクションの実装がすさまじくバグってた
<li>setup.rb が inst.rb の変化に追従してなかった
<li>calc.y calc2.y を 0.10 用に修正
</ul>

<h2>0.10.4 (1999-12-19)</h2>
<p>
<ul>
<li>エラー回復モードを実装
<li>racc -E で単体で動作するパーサを生成
<li>Racc は class から module になった
</ul>

<h2>0.10.3 (1999-12-01)</h2>
<p>
<ul>
<li>埋めこみアクションをサポート
<li>.output の出力内容にバグがあったのを修正
</ul>

<h2>0.10.2 (1999-11-27)</h2>
<p>
<ul>
<li>ドキュメントの訂正と更新
<li>libracc.rb を分割
</ul>

<h2>0.10.1 (1999-11-19)</h2>
<p>
<ul>
<li>C でランタイムを書きなおした
<li>next_token が false を返したらもう読みこまない
<li>アクションがトークンによらず決まるときは next_token を呼ばない
<li>$end 廃止
<li>LALRactionTable
</ul>

<h2>0.10.0 (1999-11-06)</h2>
<p>
<ul>
<li>next_* を next_token に一本化、peep_token 廃止
<li>@__debug__ -&lt; @yydebug など変数名を大幅変更
<li>文法ファイルの構造が class...rule...end に変わった
<li>コアのコードを一新、高速化
<li>strscan を併合
<li>ライブラリを racc/ ディレクトリに移動
</ul>

<hr>
<h2>0.9.5 (1999-10-03)</h2>
<p>
thanks > Toshさん
<ul>
<li>0.9.4 の変更がすごくバグってた
<li>$end が通らなかったのを修正
<li>__show_stack__ の引数が違ってた
</ul>

<h2>0.9.4 (1999-09-??)</h2>
<p>
<ul>
<li>Parser::Reporter をなくしてメソッドに戻した
<li>d.format.rb を再編成
</ul>

<h2>0.9.3 (1999-09-03)</h2>
<p>
<ul>
<li>racc.rb -> racc
</ul>

<h2>0.9.2 (1999-06-26)</h2>
<p>
<ul>
<li>strscan使用
</ul>

<h2>0.9.1 (1999-06-08)</h2>
<p>
<ul>
<li>アクション中の正規表現に対応 ( /= にも注意だ)
<li>アクション中の # コメントに対応
</ul>

<h2>0.9.0 (1999-06-03)</h2>
<p>
<ul>
<li>アクションを { } 形式にした
<li>ユーザーコードを '----' を使う形式にした
</ul>


<hr>

<h2>0.8.11 (?)</h2>
<p>
<ul>
<li>-g 出力をわかりやすくした
</ul>

<h2>0.8.10 (?)</h2>
<p>
<ul>
<li>アクションからreturnできるようにした
</ul>

<h2>0.8.9 (1999-03-21)</h2>
<p>
<ul>
<li>-g + @__debug__をつかったデバッグメッセージ操作
<li>エラー発生時のバグを修正
<li>TOKEN_TO_S_TABLEを付加するようにした
</ul>

<h2>0.8.8 (1999-03-20)</h2>
<p>
<ul>
<li>100倍程度の高速化
<li>defaultトークンを加えた
<li>デバッグ用ソースを出力するオプション-gをくわえた
<li>user_initializeを廃止し、普通にinitializeを使えるようにした
<li>parse_initialize/finalize,parseメソッドを廃止
<li>next_token,next_value,peep_tokenのデフォルトを廃止
<li>%precと同等の機能を加えた
</ul>

<h2>0.8.7 (1999-03-01)</h2>
<p>
<ul>
<li>内部構造が大幅に変化
<li>マニュアルがHTMLになった
</ul>

<h2>0.8.0 (1999-01-16)</h2>
<p>
なぜいきなり 0.8 ？？？
<ul>
<li>文法がブロック型に変化
</ul>

<h2>0.5.0 (1999-01-07)</h2>
<p>
<ul>
<li>演算子優先順位が実装されたようだ
<li>スタート規則が実装されたようだ
<li>トークン値の置換が実装されたようだ(後に致命的なバグ発見)
</ul>

<h2>0.1.0 (1999-01-01)</h2>
<p>
とにかく動くようになった
